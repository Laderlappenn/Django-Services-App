<!--<button hx-get="{% url 'vote:view' %}" type="button" class="btn btn-danger" data-toggle="button" aria-pressed="true" autocomplete="off">-->
<!--  Like-->
<!--</button>-->



<button id="likeButton" onclick="toggleVote()">Like</button>
<p id="likeCount">0</p>

<style>

#likeButton {
  background-color: #4CAF50;
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
  border-radius: 5px;
}

#likeCount {
  font-size: 24px;
  margin-top: 20px;
}
</style>

<script>

let voteCount = 0;
let voted = false;

const url = '{% url 'vote:view' %}';



function toggleVote() {

if (liked) {
    likeCount--;
  } else {
    likeCount++;
    }

voted = !voted;
const data = {
  voted: voted
};

    // Create the request object
    const requestOptions = {
    method: 'POST',
    headers: {
    'X-CSRFToken': '{{ csrf_token }}',
    'voted': voted
    }
  };

  // Make the POST request using Fetch API
  fetch(url, requestOptions)
    .then(response => {
      if (!response.ok) {
        throw new Error('Network response was not ok');
      }
      return response.json(); // Parse response body as JSON
    })
    .then(data => {
      // Handle response data
      console.log('Response:', data);
    })
    .catch(error => {
      // Handle errors
      console.error('There was a problem with your fetch operation:', error);
    });

  document.getElementById('likeCount').textContent = likeCount;
}


</script>